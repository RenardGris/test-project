# Déclancher a chaque push sur la branche master
on:
  push:
    branches:
      - master

jobs:
  demo:
    name: demo-ci
    runs-on: ubuntu-latest
    steps:
      - name: affichages
        run: echo "Hello world !"
      - name: Récupérer le code
        uses: actions/checkout@v3
      - name: Composer Action
        # You may pin to the exact commit or the version.
        # uses: MilesChou/composer-action@9988f07d80864ce70f00d17430809ba931d9bc84
        uses: MilesChou/composer-action@v1.0.2
      - run: composer install
        
      - name: PHPUnit for PHP 8
      # You may pin to the exact commit or the version.
      # uses: chindit/actions-phpunit@3008f2dbdfc887f862346ec666e4c856c710785e
        uses: chindit/actions-phpunit@1.0.0
      - run: vendor/bin/phpunit testCalculator
        
  # dependancies:
  #  name: install-dependancies
  #  needs: demo
  # runs-on: ubuntu-latest
  # tests:
  #  name: phpunit-test
  #  needs: dependancies
  #  runs-on: ubuntu-latest
